<form [formGroup]="applicationFormTwo">
  <h4 class="mb-2">Application - Page 1</h4>
  <div class="row">
      <div class="col-md-4">
          <div class="mb-3">
              <label class="form-label"
              >Application Intake Year<span class="text-danger">{{ " *" }}</span></label>
              <ng-select
              [items]="intakeYears"
              formControlName="intakeYear"
              placeholder="Select your Intake Year"
              >
              </ng-select>
          </div>
      </div>
  </div>
  <form [formGroup]="applicationFormTwo">
      <div class="mt-3 d-flex flex-column mt-2 p-3  bg-light">
        <div class="row py-2">
          <div class="col-md-4">
          <div class="mb-3">
              <label class="form-label">Marital Status<span class="text-danger">{{ " *" }}</span></label>
              <ng-select
              [items]="listData.maritalStatus"
              formControlName="maritalStatus"
              placeholder="Select your Marital Status"
              bindLabel="name"
              bindValue="value"
              >
              </ng-select>
          </div>
          </div>
          <div class="col-md-8">
          <div class="mb-3">
              <label class="form-label"
              >Address<span class="text-danger">{{
                  " *"
              }}</span></label
              >
              <input type="text" formControlName="address" class="form-control" />
          </div>
          </div>
          <div class="col-md-4">
          <div class="mb-3">
              <label class="form-label"
              >Governorate<span class="text-danger">{{
                  " *"
              }}</span>
              </label>
              <ng-select
              [items]="listData.governorateList"
              formControlName="governorate"
              placeholder="Select your Governorate"
              bindLabel="name"
              bindValue="value"
              >
              </ng-select>
          </div>
          </div>
          <div class="col-md-4">
          <div class="mb-3">
              <label class="form-label"
              >Wilayat/Region<span
                  class="text-danger"
                  >{{ " *" }}</span
              ></label
              >
              <ng-select
              [items]="listData.wilayatList"
              formControlName="wilayatOrRegion"
              placeholder="Select your Wilayat/Region"
              bindLabel="name"
              bindValue="value"
              >
              </ng-select>
          </div>
          </div>
          <div class="col-md-4">
          <div class="mb-3">
              <label class="form-label"
              >Name of Next of Kin (NOK)<span
                  class="text-danger"
                  >{{ " *" }}</span
              ></label
              >
              <input type="text" formControlName="nextOfKin" class="form-control" />
          </div>
          </div>
          <div class="col-md-4">
          <div class="mb-3">
              <label class="form-label"
              >Contact No. of NOK<span
                  class="text-danger"
                  >{{ " *" }}</span
              ></label
              >
              <input type="text" formControlName="contactNextOfKin" class="form-control" />
          </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-4 mt-3 mb-3">
          <div class="form-check form-switch">
              <input
              class="form-check-input"
              type="checkbox"
              role="switch"
              id="flexSwitchCheckDefault" formControlName="haveDiseases"/>
              <label
              class="form-check-label"
              for="flexSwitchCheckDefault"
              >List any Disabilities or Diseases<span
                  class="text-danger"
                  >{{ " *" }}</span
              ></label
              >
          </div>
          </div>
          <div class="col-md-4" *ngIf="formValues.haveDiseases">
          <div class="mb-3">
              <label class="form-label"
              >Please provide the name of the disease
              or disability<span
                  class="text-danger"
                  >{{ " *" }}</span
              ></label
              >
              <textarea type="text" (resize)="(false)" rows="2" class="form-control" formControlName="diseasesOrDisabilities"></textarea>
          </div>
          </div>
      </div>
      </div>
      
  
      <div class="mt-3 d-flex flex-row justify-content-between">
          <p class="h5">Education</p>
          <a
            (click)="addEducation()"
            href="javascript:void(0);"
            class="link-primary"
            ><i class="ri-add-box-line"></i>Add more</a
          >
        </div>
        <div formArrayName="education">
          <div
            class="mt-2 d-flex flex-column  p-3 bg-light"
            *ngFor="let schools of educationControls; let i = index"
            [formGroupName]="i"
          >
            <div class="d-flex flex-row justify-content-end align-items-center">
              <a (click)="onDeleteEducation(i)" class="link-danger"
                ><i class="ri-delete-bin-5-line"></i
              ></a>
            </div>
            <div class="row">
              <div class="col-md-3">
                  <label class="form-label">Name of University / College<span
                      class="text-danger" >{{ " *" }}</span></label>
                  <ng-select
                  [items]="listData.educationInstitutesList" formControlName="school"
                  placeholder="Name of University / College" bindLabel="name"
                  bindValue="value">
                  </ng-select>
              </div>
              <div class="col-md-3" *ngIf=" formValues.school === 'other'">
                  <label class="form-label"
                  >Specify the name of University / College<span class="text-danger">{{ " *" }}</span></label>
                  <input formControlName="otherName"
                  type="text"
                  class="form-control"
                  />
              </div>
              <div class="col-md-3">
                  <label class="form-label"
                  >Degree Obtained<span
                      class="text-danger"
                      >{{ " *" }}</span
                  ></label
                  >
                  <ng-select
                  [items]="listData.degreeList"
                  formControlName="degreeObtained"
                  placeholder="Degree"
                  bindLabel="name"
                  bindValue="value"
                  >
                  </ng-select>
              </div>
              <div class="col-md-3">
                  <label class="form-label"
                    >Country<span class="text-danger">{{ " *" }}</span>
                  </label>
                  <ng-select
                    [items]="listData.countryList"
                    placeholder="Country"
                    bindLabel="name"
                    formControlName="country"
                    bindValue="code"
                  >
                  </ng-select>
              </div>
              <div class="col-md-3">
                  <label class="form-label"
                  >GPA<span class="text-danger">{{ " *" }}</span></label>
                  <input formControlName="gpa"
                  type="text"
                  class="form-control"
                  />
              </div>
              <div class="col-md-3">
                <label class="form-label"
                  >Date Of Graduation<span class="text-danger">{{ " *" }}</span></label
                >
                <input
                  class="form-control flatpickr-input"
                  type="text"
                  formControlName="dateOfGraduation"
                  mwlFlatpickr
                  [altInput]="true"
                  [convertModelValue]="true"
                />
              </div>
            </div>
          </div>
        </div>
        <div class="mt-3 d-flex flex-row justify-content-between">
          <p class="h5">Internship Details</p>
          <a
            (click)="addInternship()"
            href="javascript:void(0);"
            class="link-primary"
            ><i class="ri-add-box-line"></i>Add more</a
          >
        </div>
        <div formArrayName="internship">
          <div
            class="mt-2 d-flex flex-column p-3  bg-light"
            *ngFor="let schools of internshipControls; let i = index"
            [formGroupName]="i"
          >
            <div class="d-flex flex-row justify-content-end align-items-center">
              <a (click)="onDeleteInternship(i)" class="link-danger"
                ><i class="ri-delete-bin-5-line"></i
              ></a>
            </div>
            <div class="row">
              <div class="col-md-3">
                <label class="form-label"
                  >Start Date<span class="text-danger">{{ " *" }}</span></label
                >
                <input
                  class="form-control flatpickr-input"
                  type="text"
                  mwlFlatpickr
                  [altInput]="true"
                  formControlName="startDate"
                  [convertModelValue]="true"
                />
              </div>
              <div class="col-md-3">
                <label class="form-label"
                  >End Date<span class="text-danger">{{ " *" }}</span></label
                >
                <input
                  class="form-control flatpickr-input"
                  type="text"
                  formControlName="endDate"
                  mwlFlatpickr
                  [altInput]="true"
                  [convertModelValue]="true"
                />
              </div>
              <div class="col-md-3">
                <label class="form-label"
                  >Institution of Internship<span class="text-danger">{{ " *" }}</span></label
                >
                <input
                  type="text"
                  formControlName="institution"
                  class="form-control"
                />
              </div>
              <div class="col-md-3">
                <label class="form-label"
                  >Current Position<span class="text-danger">{{ " *" }}</span>
                </label>
                <ng-select
                  [items]="listData.positions"
                  placeholder="Current Position"
                  formControlName="position">
                </ng-select>
              </div>
            </div>
          </div>
        </div>
      <div class="d-flex flex-column mt-3">
          <p class="h5">Certificates</p>
          <div class="d-flex flex-column mt-2 p-3  bg-light">
            <div class="row">
            <div class="col-md-6 p-3" formGroupName="blsCertificate">
                <p class="h6">BLS Certificate</p>
                <div class="row">
                    <div class="col-md-6" >
                        <div class="mb-3">
                        <label class="form-label"
                            >Expiry Date<span
                            class="text-danger"
                            >{{ " *" }}</span
                            ></label
                        >
                        <input
                            class="form-control flatpickr-input"
                            type="text"
                            mwlFlatpickr
                            [minDate]="todayDate"
                            formControlName="expiryDate"
                            [altInput]="true"
                            [convertModelValue]="true"
                        />
                        </div>
                    </div>
                    <div class="col-md-6">
                        <p class="text-muted">
                        Upload your BLS Certificate.<span
                            class="text-danger"
                            >{{ " *" }}</span
                        >
                        </p>
                        <input type="hidden" formControlName="uploadLink">
                        <ngx-dropzone (change)="onSelect($event, 'filesBLSCertificate')"
                        [multiple]="false">
                        <ngx-dropzone-label >Drop your file here!</ngx-dropzone-label>
                        <ngx-dropzone-preview *ngFor="let f of filesBLSCertificate"
                            [removable]="true" (removed)="onRemove(f, 'filesBLSCertificate')">
                            <ngx-dropzone-label
                            >{{ f.name }} ({{
                                f.type
                            }})</ngx-dropzone-label
                            >
                        </ngx-dropzone-preview>
                        </ngx-dropzone>
                    </div>
                </div>
            </div>
            <div class="col-md-6  p-3" formGroupName="aclsCertificate">
                <p class="h6">ACLS Certificate</p>
                <div class="row">
                <div class="col-md-6">
                    <div class="mb-3">
                    <label class="form-label"
                        >Expiry Date<span
                        class="text-danger"
                        >{{ " *" }}</span
                        ></label
                    >
                    <input
                        class="form-control flatpickr-input"
                        type="text"
                        mwlFlatpickr
                        [minDate]="todayDate"
                        formControlName="expiryDate"
                        [altInput]="true"
                        [convertModelValue]="true"
                    />
                    </div>
                </div>
                <div class="col-md-6">
                    <p class="text-muted">
                    Upload your ACLS Certificate.<span
                        class="text-danger"
                        >{{ " *" }}</span
                    >
                    </p>
                    <input type="hidden" formControlName="uploadLink">
                    <ngx-dropzone
                    (change)="
                        onSelect($event, 'filesACLSCertificate')
                    "
                    [multiple]="false"
                    >
                    <ngx-dropzone-label >Drop your file here!</ngx-dropzone-label>
                    <ngx-dropzone-preview
                        *ngFor="let f of filesACLSCertificate" [removable]="true"
                        (removed)="onRemove(f, 'filesACLSCertificate')">
                        <ngx-dropzone-label
                        >{{ f.name }} ({{
                            f.type
                        }})</ngx-dropzone-label
                        >
                    </ngx-dropzone-preview>
                    </ngx-dropzone>
                </div>
                </div>
            </div>
            </div>
          </div>
      </div>
      <div class="mt-3 d-flex flex-column mt-2 p-3  bg-light">
        <div class="row">
            <p class="h5">
            Postgraduate Qualifications / Training
            Experience
            </p>
            <div class="col-md-6">
            <div class="mb-3">
                <label class="form-label">
                Please provide a summary of your
                Postgraduate Qualifications / Training
                Experience</label
                >
                <textarea formControlName="qualificationsAndTrainings"
                type="text"
                class="form-control"
                rows="5"
                ></textarea>
            </div>
            </div>
            <div class="col-md-6">
            <p class="text-muted">
                Upload your proof of Documents.
            </p>
            <input type="hidden" formControlName="proofOfDocumentsLinks">
            <ngx-dropzone (change)="onSelect($event, 'filesProofDocs')">
                <ngx-dropzone-label >Drop your file here!</ngx-dropzone-label>
                <ngx-dropzone-preview *ngFor="let f of filesProofDocs" [removable]="true" (removed)="onRemove(f, 'filesProofDocs')">
                <ngx-dropzone-label >{{ f.name }} ({{ f.type }})</ngx-dropzone-label>
                </ngx-dropzone-preview>
            </ngx-dropzone>
            </div>
        </div>
  
      </div>
      <div class="mt-3 d-flex flex-column mt-2 p-3  bg-light">
        <div class="row">
          <div class="col-md-6 mt-4">
              <div class="form-check form-switch">
                  <input
                  class="form-check-input"
                  type="checkbox"
                  role="switch"
                  formControlName="isSpecialtyProgramCompleted"
                  id="flexSwitchCheckDefault"/>
                  <label
                  class="form-check-label"
                  for="flexSwitchCheckDefault"
                  ><span class="text-danger px-2">{{
                      " * "
                  }}</span
                  >Have you completed the specialty Program </label
                  >
              </div>
          </div>
          <div class="col-md-4 mt-4" *ngIf="formValues.isSpecialtyProgramCompleted">
              <label class="form-label">Please provide the specialty Program Name</label>
              <ng-select
              [items]="['Anesthesia', 'ENT']"
              formControlName="specialtyProgramName"
              >
              </ng-select>
          </div>
        </div>
      </div>
      <hr />
      <div class="mt-3 d-flex flex-column mt-2 p-3  bg-light">
        <div class="row">
            <div class="col-md-4 mt-4">
            <div class="form-check form-switch">
                <input
                class="form-check-input"
                type="checkbox"
                role="switch"
                formControlName="isRequiredLabCoat"
                id="flexSwitchCheckDefault"/>
                <label
                class="form-check-label"
                for="flexSwitchCheckDefault"
                ><span class="text-danger px-2">{{
                    " * "
                }}</span
                >Do you require a Lab Coat</label
                >
            </div>
            </div>
            <div
            class="col-md-4" *ngIf="formValues.isRequiredLabCoat">
            <div class="mb-3">
                <label class="form-label">Please select your Lab Coat Size
                <span class="text-danger">{{" *"}}</span></label>
                <ng-select
                [items]="listData.labCoatSize"
                placeholder="Please select your White Lab Coat Size"
                bindLabel="name"
                bindValue="value"
                ></ng-select>
            </div>
            </div>
        </div>
      </div>
      <hr />
      <div class="mt-3 d-flex flex-column mt-2 p-3  bg-light">
        <div class="row">
            <div class="col-md-4">
            <p class="text-muted">
                Upload your Sponsorship letter from
                Employer.<span class="text-danger">{{
                " *"
                }}</span>
            </p>
            <input type="hidden" formControlName="sponsorshipLetterLink">
            <ngx-dropzone (change)="onSelect($event, 'filesSponsorshipLetter')" [multiple]="false">
                <ngx-dropzone-label>Drop your file here!</ngx-dropzone-label>
                <ngx-dropzone-preview
                *ngFor="let f of filesSponsorshipLetter"
                [removable]="true"
                (removed)="onRemove(f, 'filesSponsorshipLetter')"
                >
                <ngx-dropzone-label
                    >{{ f.name }} ({{
                    f.type
                    }})</ngx-dropzone-label
                >
                </ngx-dropzone-preview>
            </ngx-dropzone>
            </div>
        </div>    
      </div>
  </form>
</form>
