<app-breadcrumbs title="Competition Grouping" [breadcrumbItems]="breadCrumbItems"></app-breadcrumbs>
<button type="button" class="btn btn-primary btn-label waves-effect waves-light mb-3"  (click)="onNavigate('research/research-day')"><i class="ri-arrow-left-circle-line label-icon align-middle fs-16 me-2"></i>Back</button>

<div class="row mt-1">
    <div class="card">
        <div class="card-body">
            <form [formGroup]="nomineeGroupForm">
                <div class="row">
                    <div class="col-md-3 mb-3 border shadow" >
                        <p class="h5 text-secondary mt-2">1st Nominee Group</p>
                        <div class="d-flex flex-row my-2">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="formCheckSelectAll" 
                                formControlName="isSelectedAll"
                                (change)="onClickSelectAll()">
                                <label class="form-check-label" for="formCheckSelectAll">
                                Select All</label>
                            </div>
                        </div>
                        <ngx-simplebar class="p-3" style="max-height: 320px;" formArrayName="nomineeGroupOneArray">
                            <div class="acitivity-timeline acitivity-main">
                                <div class="acitivity-item d-flex mb-3" *ngFor="let nominee of nomineeGroupOneControls; let i = index"
                                [formGroupName]="i">
                                    <div class="d-flex flex-row border p-1 w-100">
                                        <div class="d-flex flex-row ">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" 
                                                formControlName="isSelected" id="formCheck{{i}}">
                                            </div>
                                            <label class="form-check-label" for="formCheck{{i}}">{{nominee.value.name}}</label>
                                        </div>
                                    </div>
                                </div>  
                            </div>
                        </ngx-simplebar>
                        <div class="d-flex flex-column my-2">
                            <button (click)="onCreateGroup()" class="btn btn-primary btn-sm">Oral Presentation Competition Group</button>

                        </div>
                    </div>
                    <div class="col-md-3 mb-3 border shadow" >
                        <p class="h5 text-secondary mt-2">2nd & 3rd Nominee Group</p>
                        <div class="d-flex flex-row my-2">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="formCheckSelectAllTwo" 
                                formControlName="isSelectedAllTwo"
                                (change)="onClickSelectAllTwo()">
                                <label class="form-check-label" for="formCheckSelectAllTwo">
                                Select All</label>
                            </div>
                        </div>
                        <ngx-simplebar class="p-3" style="max-height: 320px;" formArrayName="nomineeGroupTwoAndThreeArray">
                            <div class="acitivity-timeline acitivity-main">
                                <div class="acitivity-item d-flex mb-3" *ngFor="let nominee of nomineeGroupTwoAndThreeControls; let i = index"
                                [formGroupName]="i">
                                    <div class="d-flex flex-row border p-1 w-100">
                                        <div class="d-flex flex-row ">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" 
                                                formControlName="isSelected" id="formCheckTwo{{i}}">
                                            </div>
                                            <label class="form-check-label" for="formCheckTwo{{i}}">{{nominee.value.name}}</label>
                                        </div>
                                    </div>
                                </div>  
                            </div>
                        </ngx-simplebar>
                        <div class="d-flex flex-column my-2">
                            <button (click)="onCreateGroup()" class="btn mb-1 btn-primary btn-sm"> Poster Presentation Competition Group 1</button>
                            <button (click)="onCreateGroup()" class="btn btn-primary btn-sm"> Poster Presentation Competition Group 2</button>
                        </div>
                    </div>
                    <div class="col-md-6 mb-6 align-middle justify-content-center text-center my-auto" *ngIf="!isGroupCreated">
                        <i class="ri-spam-line text-warning fs-24"></i>                        
                        <p class="h5 text-warning">Please Create Competition Groups</p>
                    </div>
                    <div class="col-md-6 p-0 mb-3 border shadow " *ngIf="isGroupCreated">
                        <div class="p-4 m-2 border border-dashed">
                            <div class="card bg-light w-100">
                                <div class="card-body">
                                    <p class="h5 text-primary">Oral Presentation Competition Group</p>
                                    <p class="h8">{{"Assigned Nominees : 3"}}</p>
                                    <button class="btn btn-primary">Add Judge</button>
                                    <button class="btn btn-primary mx-2">Edit Nominees</button>
                                </div>
                            </div>
                            <div class="card bg-light w-100">
                                <div class="card-body">
                                    <p class="h5 text-primary">Poster Presentation Competition Group 1</p>
                                    <p class="h8">{{"Assigned Nominees : 4"}}</p>
                                    <button class="btn btn-primary">Add Judge</button>
                                    <button class="btn btn-primary mx-2">Edit Nominees</button>
                                </div>
                            </div>
                            <div class="card bg-light w-100">
                                <div class="card-body">
                                    <p class="h5 text-primary">Poster Presentation Competition Group 2</p>
                                    <p class="h8">{{"Assigned Nominees : 2"}}</p>
                                    <button class="btn btn-primary">Add Judge</button>
                                    <button class="btn btn-primary mx-2">Edit Nominees</button>
                                </div>
                            </div>
                        </div>
                        
                    </div>

                </div>
            </form>
        </div>
    </div>
</div>